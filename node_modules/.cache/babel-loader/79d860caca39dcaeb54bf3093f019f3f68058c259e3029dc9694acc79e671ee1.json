{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n\n// Lấy danh sách hàng hóa từ localStorage khi khởi động\nconst loadProductsFromLocalStorage = () => {\n  const products = localStorage.getItem(\"products\");\n  return products ? JSON.parse(products) : [];\n};\n\n// Lưu danh sách hàng hóa vào localStorage\nconst saveProductsToLocalStorage = products => {\n  localStorage.setItem(\"products\", JSON.stringify(products));\n};\nconst productsSlice = createSlice({\n  name: \"products\",\n  initialState: loadProductsFromLocalStorage(),\n  // Khởi tạo từ localStorage\n  reducers: {\n    addProduct: (state, action) => {\n      const updatedState = [...state, action.payload];\n      saveProductsToLocalStorage(updatedState); // Lưu vào localStorage\n      return updatedState;\n    },\n    deleteProduct: (state, action) => {\n      const updatedState = state.filter(product => product.id !== action.payload);\n      saveProductsToLocalStorage(updatedState); // Lưu vào localStorage\n      return updatedState;\n    },\n    updateProduct: (state, action) => {\n      const {\n        id,\n        name,\n        price\n      } = action.payload;\n      const updatedState = state.map(product => product.id === id ? {\n        ...product,\n        name,\n        price\n      } : product);\n      saveProductsToLocalStorage(updatedState); // Lưu vào localStorage\n      return updatedState;\n    }\n  }\n});\nexport const {\n  addProduct,\n  deleteProduct,\n  updateProduct\n} = productsSlice.actions;\nexport default productsSlice.reducer;","map":{"version":3,"names":["createSlice","loadProductsFromLocalStorage","products","localStorage","getItem","JSON","parse","saveProductsToLocalStorage","setItem","stringify","productsSlice","name","initialState","reducers","addProduct","state","action","updatedState","payload","deleteProduct","filter","product","id","updateProduct","price","map","actions","reducer"],"sources":["C:/Users/trann/Desktop/ltw_quanlyhanghoa/src/redux/productsReducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// Lấy danh sách hàng hóa từ localStorage khi khởi động\r\nconst loadProductsFromLocalStorage = () => {\r\n  const products = localStorage.getItem(\"products\");\r\n  return products ? JSON.parse(products) : [];\r\n};\r\n\r\n// Lưu danh sách hàng hóa vào localStorage\r\nconst saveProductsToLocalStorage = (products) => {\r\n  localStorage.setItem(\"products\", JSON.stringify(products));\r\n};\r\n\r\nconst productsSlice = createSlice({\r\n  name: \"products\",\r\n  initialState: loadProductsFromLocalStorage(), // Khởi tạo từ localStorage\r\n  reducers: {\r\n    addProduct: (state, action) => {\r\n      const updatedState = [...state, action.payload];\r\n      saveProductsToLocalStorage(updatedState); // Lưu vào localStorage\r\n      return updatedState;\r\n    },\r\n    deleteProduct: (state, action) => {\r\n      const updatedState = state.filter(\r\n        (product) => product.id !== action.payload\r\n      );\r\n      saveProductsToLocalStorage(updatedState); // Lưu vào localStorage\r\n      return updatedState;\r\n    },\r\n    updateProduct: (state, action) => {\r\n      const { id, name, price } = action.payload;\r\n      const updatedState = state.map((product) =>\r\n        product.id === id ? { ...product, name, price } : product\r\n      );\r\n      saveProductsToLocalStorage(updatedState); // Lưu vào localStorage\r\n      return updatedState;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addProduct, deleteProduct, updateProduct } =\r\n  productsSlice.actions;\r\nexport default productsSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;;AAE9C;AACA,MAAMC,4BAA4B,GAAGA,CAAA,KAAM;EACzC,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,OAAOF,QAAQ,GAAGG,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC,GAAG,EAAE;AAC7C,CAAC;;AAED;AACA,MAAMK,0BAA0B,GAAIL,QAAQ,IAAK;EAC/CC,YAAY,CAACK,OAAO,CAAC,UAAU,EAAEH,IAAI,CAACI,SAAS,CAACP,QAAQ,CAAC,CAAC;AAC5D,CAAC;AAED,MAAMQ,aAAa,GAAGV,WAAW,CAAC;EAChCW,IAAI,EAAE,UAAU;EAChBC,YAAY,EAAEX,4BAA4B,CAAC,CAAC;EAAE;EAC9CY,QAAQ,EAAE;IACRC,UAAU,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7B,MAAMC,YAAY,GAAG,CAAC,GAAGF,KAAK,EAAEC,MAAM,CAACE,OAAO,CAAC;MAC/CX,0BAA0B,CAACU,YAAY,CAAC,CAAC,CAAC;MAC1C,OAAOA,YAAY;IACrB,CAAC;IACDE,aAAa,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAMC,YAAY,GAAGF,KAAK,CAACK,MAAM,CAC9BC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKN,MAAM,CAACE,OACrC,CAAC;MACDX,0BAA0B,CAACU,YAAY,CAAC,CAAC,CAAC;MAC1C,OAAOA,YAAY;IACrB,CAAC;IACDM,aAAa,EAAEA,CAACR,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAM;QAAEM,EAAE;QAAEX,IAAI;QAAEa;MAAM,CAAC,GAAGR,MAAM,CAACE,OAAO;MAC1C,MAAMD,YAAY,GAAGF,KAAK,CAACU,GAAG,CAAEJ,OAAO,IACrCA,OAAO,CAACC,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAGD,OAAO;QAAEV,IAAI;QAAEa;MAAM,CAAC,GAAGH,OACpD,CAAC;MACDd,0BAA0B,CAACU,YAAY,CAAC,CAAC,CAAC;MAC1C,OAAOA,YAAY;IACrB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,UAAU;EAAEK,aAAa;EAAEI;AAAc,CAAC,GACvDb,aAAa,CAACgB,OAAO;AACvB,eAAehB,aAAa,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}