{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\trann\\\\Desktop\\\\ltw_quanlyhanghoa\\\\src\\\\components\\\\ProductList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Modal from \"../components/Modal\";\nimport Table from \"../components/Table\";\nimport { deleteProduct } from \"../redux/productsReducer\";\nimport AddProductForm from \"./AddProductForm\";\nimport Button from \"./Button\";\nimport EditProductForm from \"./EditProductForm\";\nimport Tooltip from \"./Tooltip\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductList = () => {\n  _s();\n  const products = useSelector(state => state.products);\n  const dispatch = useDispatch();\n  const [visibleForm, setVisibleForm] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const [idSanPham, setIdSanPham] = useState();\n\n  // Tính tổng giá trị của tất cả sản phẩm sử dụng useMemo\n  const totalPrice = useMemo(() => {\n    return products.reduce((total, product) => total + product.price, 0);\n  }, [products]);\n  const columns = [{\n    label: \"Tên\",\n    field: \"name\"\n  }, {\n    label: \"Giá\",\n    field: \"price\"\n  }, {\n    label: \"Thao tác\",\n    width: 130,\n    render: (val, row) => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setVisibleForm(true);\n          setIsEdit(true);\n          setIdSanPham(row.id);\n        },\n        size: \"small\",\n        className: \"primary\",\n        children: \"Ch\\u1EC9nh s\\u1EEDa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DeleteActionButton, {\n        row: row,\n        dispatch: dispatch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }];\n  const tableData = [...products, {\n    id: \"total\",\n    name: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"T\\u1ED5ng s\\u1ED1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this),\n    price: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: totalPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 14\n    }, this),\n    isSummaryRow: true\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      onClose: () => setVisibleForm(false),\n      isOpen: visibleForm,\n      children: isEdit ? /*#__PURE__*/_jsxDEV(EditProductForm, {\n        idSanPham: idSanPham,\n        setVisibleForm: setVisibleForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(AddProductForm, {\n        setVisibleForm: setVisibleForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"B\\u1EA3ng Th\\xF4ng Tin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      content: \"\",\n      position: \"right\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginBottom: 8\n        },\n        size: \"medium\",\n        onClick: () => {\n          setVisibleForm(true);\n          setIsEdit(false);\n        },\n        children: \"Th\\xEAm H\\xE0ng H\\xF3a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      data: tableData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n// Tái sử dụng một component cho hành động xóa\n_s(ProductList, \"gMq0ozCptpb/950AOc4JfomdfM0=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = ProductList;\nconst DeleteActionButton = ({\n  row,\n  dispatch\n}) => /*#__PURE__*/_jsxDEV(Tooltip, {\n  content: \"Sau khi xóa, dữ liệu sẽ không thể khôi phục lại được\",\n  position: \"left\",\n  children: /*#__PURE__*/_jsxDEV(Button, {\n    onClick: () => dispatch(deleteProduct(row.id)),\n    style: {\n      marginLeft: 8\n    },\n    size: \"small\",\n    className: \"danger\",\n    children: \"X\\xF3a\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 91,\n  columnNumber: 3\n}, this);\n_c2 = DeleteActionButton;\nexport default ProductList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProductList\");\n$RefreshReg$(_c2, \"DeleteActionButton\");","map":{"version":3,"names":["React","useState","useMemo","useDispatch","useSelector","Modal","Table","deleteProduct","AddProductForm","Button","EditProductForm","Tooltip","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductList","_s","products","state","dispatch","visibleForm","setVisibleForm","isEdit","setIsEdit","idSanPham","setIdSanPham","totalPrice","reduce","total","product","price","columns","label","field","width","render","val","row","children","onClick","id","size","className","fileName","_jsxFileName","lineNumber","columnNumber","DeleteActionButton","tableData","name","isSummaryRow","onClose","isOpen","content","position","style","marginBottom","data","_c","marginLeft","_c2","$RefreshReg$"],"sources":["C:/Users/trann/Desktop/ltw_quanlyhanghoa/src/components/ProductList.js"],"sourcesContent":["import React, { useState, useMemo } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Modal from \"../components/Modal\";\r\nimport Table from \"../components/Table\";\r\nimport { deleteProduct } from \"../redux/productsReducer\";\r\nimport AddProductForm from \"./AddProductForm\";\r\nimport Button from \"./Button\";\r\nimport EditProductForm from \"./EditProductForm\";\r\nimport Tooltip from \"./Tooltip\";\r\n\r\nconst ProductList = () => {\r\n  const products = useSelector((state) => state.products);\r\n  const dispatch = useDispatch();\r\n  const [visibleForm, setVisibleForm] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [idSanPham, setIdSanPham] = useState();\r\n\r\n  // Tính tổng giá trị của tất cả sản phẩm sử dụng useMemo\r\n  const totalPrice = useMemo(() => {\r\n    return products.reduce((total, product) => total + product.price, 0);\r\n  }, [products]);\r\n\r\n  const columns = [\r\n    { label: \"Tên\", field: \"name\" },\r\n    { label: \"Giá\", field: \"price\" },\r\n    {\r\n      label: \"Thao tác\",\r\n      width: 130,\r\n      render: (val, row) => (\r\n        <>\r\n          <Button\r\n            onClick={() => {\r\n              setVisibleForm(true);\r\n              setIsEdit(true);\r\n              setIdSanPham(row.id);\r\n            }}\r\n            size=\"small\"\r\n            className=\"primary\"\r\n          >\r\n            Chỉnh sửa\r\n          </Button>\r\n\r\n          <DeleteActionButton row={row} dispatch={dispatch} />\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const tableData = [\r\n    ...products,\r\n    {\r\n      id: \"total\",\r\n      name: <strong>Tổng số</strong>,\r\n      price: <strong>{totalPrice}</strong>,\r\n      isSummaryRow: true,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Modal onClose={() => setVisibleForm(false)} isOpen={visibleForm}>\r\n        {isEdit ? (\r\n          <EditProductForm\r\n            idSanPham={idSanPham}\r\n            setVisibleForm={setVisibleForm}\r\n          />\r\n        ) : (\r\n          <AddProductForm setVisibleForm={setVisibleForm} />\r\n        )}\r\n      </Modal>\r\n      <h1>Bảng Thông Tin</h1>\r\n      <Tooltip content=\"\" position=\"right\">\r\n        <Button\r\n          style={{ marginBottom: 8 }}\r\n          size=\"medium\"\r\n          onClick={() => {\r\n            setVisibleForm(true);\r\n            setIsEdit(false);\r\n          }}\r\n        >\r\n          Thêm Hàng Hóa\r\n        </Button>\r\n      </Tooltip>\r\n      <Table columns={columns} data={tableData}></Table>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Tái sử dụng một component cho hành động xóa\r\nconst DeleteActionButton = ({ row, dispatch }) => (\r\n  <Tooltip content={\"Sau khi xóa, dữ liệu sẽ không thể khôi phục lại được\"} position=\"left\">\r\n    <Button\r\n      onClick={() => dispatch(deleteProduct(row.id))}\r\n      style={{ marginLeft: 8 }}\r\n      size=\"small\"\r\n      className=\"danger\"\r\n    >\r\n      Xóa\r\n    </Button>\r\n  </Tooltip>\r\n);\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}